                      (           test.s):00001         * 6809 assembly program generated by cmoc 0.1.90
                      (           test.s):00002         
                      (           test.s):00003         
                      (           test.s):00004                 SECTION start
                      (           test.s):00005         
                      (           test.s):00006         
                      (           test.s):00007         program_start   EXPORT
                      (           test.s):00008         _main   IMPORT
                      (           test.s):00009         INILIB  IMPORT
                      (           test.s):00010         _exit   IMPORT
     0000             (           test.s):00011         program_start   EQU     *
0000 CCFC00           (           test.s):00012                 LDD     #-1024          stack space in bytes
0003 170000           (           test.s):00013                 LBSR    INILIB          initialize standard library and global variables
0006 170000           (           test.s):00014                 LBSR    _main           call main()
     0009             (           test.s):00015         main_return_address     EQU     *
0009 3406             (           test.s):00016                 PSHS    B,A             send main() return value to exit()
000B 170000           (           test.s):00017                 LBSR    _exit           use LBSR to respect calling convention
                      (           test.s):00018         
                      (           test.s):00019         
                      (           test.s):00020                 ENDSECTION
                      (           test.s):00021         
                      (           test.s):00022         
                      (           test.s):00023         
                      (           test.s):00024         
                      (           test.s):00025                 SECTION code
                      (           test.s):00026         
                      (           test.s):00027         
                      (           test.s):00028         _chkDrive       IMPORT
                      (           test.s):00029         _exitFLEX       IMPORT
                      (           test.s):00030         _exitMON        IMPORT
                      (           test.s):00031         _fgetNext       IMPORT
                      (           test.s):00032         _finBuffer      IMPORT
                      (           test.s):00033         _foutHex        IMPORT
                      (           test.s):00034         _fputChar       IMPORT
                      (           test.s):00035         _getChar        IMPORT
                      (           test.s):00036         _getCharNoEcho  IMPORT
                      (           test.s):00037         _getTerminalState       IMPORT
                      (           test.s):00038         _initDrive      IMPORT
                      (           test.s):00039         _outChar        IMPORT
                      (           test.s):00040         _pcrlf  IMPORT
                      (           test.s):00041         _print  IMPORT
                      (           test.s):00042         _quickCheckDrive        IMPORT
                      (           test.s):00043         _readSector     IMPORT
                      (           test.s):00044         _rtzDrive       IMPORT
                      (           test.s):00045         _seekDrive      IMPORT
                      (           test.s):00046         _setDrive       IMPORT
                      (           test.s):00047         _verifySector   IMPORT
                      (           test.s):00048         _warmDrive      IMPORT
                      (           test.s):00049         _writeSector    IMPORT
                      (           test.s):00050         _main   EXPORT
                      (           test.s):00051         
                      (           test.s):00052         
                      (           test.s):00053         *******************************************************************************
                      (           test.s):00054         
                      (           test.s):00055         * FUNCTION main(): defined at test.c:6
     0000             (           test.s):00056         _main   EQU     *
                      (           test.s):00057         * Prototype: int main(...)
                      (           test.s):00058         * Calling convention: 0 (CMOC Default)
0000 3440             (           test.s):00059                 PSHS    U
0002 33E4             (           test.s):00060                 LEAU    ,S
0004 32E9FF68         (           test.s):00061                 LEAS    -152,S
                      (           test.s):00062         * Local non-static variable(s):
                      (           test.s):00063         *   -152,U:   17 bytes: test: char[]: line 8
                      (           test.s):00064         *   -135,U:    1 byte : var: char: line 17
                      (           test.s):00065         *   -134,U:    2 bytes: memend_struct: unsigned int: line 24
                      (           test.s):00066         *   -132,U:  129 bytes: input: char[]: line 30
                      (           test.s):00067         *     -3,U:    2 bytes: i: int: line 31
                      (           test.s):00068         *     -1,U:    1 byte : ch: char: line 32
                      (           test.s):00069         * Line test.c:8: init of variable test
0008 308D0000         (           test.s):00070                 LEAX    S00024,PCR      "hello world \r\n"
000C 3410             (           test.s):00071                 PSHS    X               source array
000E 30C9FF68         (           test.s):00072                 LEAX    -152,U          destination byte array test
0012 CC0011           (           test.s):00073                 LDD     #17             length of string literal + terminating NUL
0015 170000           (           test.s):00074                 LBSR    copyMem
0018 3262             (           test.s):00075                 LEAS    2,S
                      (           test.s):00076         * Line test.c:9: function call: print()
001A 308D0000         (           test.s):00077                 LEAX    S00025,PCR      "FLEX New Disk Test Program "
001E 3410             (           test.s):00078                 PSHS    X               C function argument 1 of print(): const char[]
0020 170000           (           test.s):00079                 LBSR    _print
0023 3262             (           test.s):00080                 LEAS    2,S
                      (           test.s):00081         * Line test.c:10: function call: print()
0025 308D0000         (           test.s):00082                 LEAX    S00026,PCR      "Version 1.0 \n"
0029 3410             (           test.s):00083                 PSHS    X               C function argument 1 of print(): const char[]
002B 170000           (           test.s):00084                 LBSR    _print
002E 3262             (           test.s):00085                 LEAS    2,S
                      (           test.s):00086         * Line test.c:11: function call: print()
0030 30C9FF68         (           test.s):00087                 LEAX    -152,U          address of array test
0034 3410             (           test.s):00088                 PSHS    X               C function argument 1 of print(): char[]
0036 170000           (           test.s):00089                 LBSR    _print
0039 3262             (           test.s):00090                 LEAS    2,S
                      (           test.s):00091         * Line test.c:12: function call: fputChar()
003B C641             (           test.s):00092                 LDB     #$41            decimal 65 signed
003D 1D               (           test.s):00093                 SEX                     promoting byte argument to word
003E 3406             (           test.s):00094                 PSHS    B,A             C function argument 1 of fputChar(): char
0040 170000           (           test.s):00095                 LBSR    _fputChar
0043 3262             (           test.s):00096                 LEAS    2,S
                      (           test.s):00097         * Line test.c:13: function call: pcrlf()
0045 170000           (           test.s):00098                 LBSR    _pcrlf
                      (           test.s):00099         * Line test.c:16: while
0048 2000             (           test.s):00100                 BRA     L00031          jump to while condition
     004A             (           test.s):00101         L00030  EQU     *               while body
     004A             (           test.s):00102         L00031  EQU     *               while condition at test.c:16
                      (           test.s):00103         * Line test.c:16: function call: getTerminalState()
004A 170000           (           test.s):00104                 LBSR    _getTerminalState
004D 5D               (           test.s):00105                 TSTB
004E 26FA             (           test.s):00106                 BNE     L00030
                      (           test.s):00107         * optim: branchToNextLocation
                      (           test.s):00108         * Useless label L00032 removed
                      (           test.s):00109         * Line test.c:17: init of variable var
                      (           test.s):00110         * Line test.c:17: function call: getCharNoEcho()
0050 170000           (           test.s):00111                 LBSR    _getCharNoEcho
0053 E7C9FF79         (           test.s):00112                 STB     -135,U          variable var
                      (           test.s):00113         * Line test.c:18: function call: foutHex()
0057 30C9FF79         (           test.s):00114                 LEAX    -135,U          variable `var', declared at test.c:17
005B 3410             (           test.s):00115                 PSHS    X               C function argument 1 of foutHex(): char *
005D 170000           (           test.s):00116                 LBSR    _foutHex
0060 3262             (           test.s):00117                 LEAS    2,S
                      (           test.s):00118         * Line test.c:19: function call: pcrlf()
0062 170000           (           test.s):00119                 LBSR    _pcrlf
                      (           test.s):00120         * Line test.c:20: function call: outChar()
0065 C641             (           test.s):00121                 LDB     #$41            decimal 65 signed
0067 1D               (           test.s):00122                 SEX                     promoting byte argument to word
0068 3406             (           test.s):00123                 PSHS    B,A             C function argument 1 of outChar(): char
006A 170000           (           test.s):00124                 LBSR    _outChar
006D 3262             (           test.s):00125                 LEAS    2,S
                      (           test.s):00126         * Line test.c:21: function call: pcrlf()
006F 170000           (           test.s):00127                 LBSR    _pcrlf
                      (           test.s):00128         * Line test.c:24: init of variable memend_struct
0072 CCCC00           (           test.s):00129                 LDD     #$CC00          decimal 52224 unsigned
                      (           test.s):00130         * Emitted no code to cast `unsigned int' to `struct AnonStruct_ftypes.h:26 *'
0075 1F01             (           test.s):00131                 TFR     D,X             X points to a struct AnonStruct_ftypes.h:26
0077 EC882B           (           test.s):00132                 LDD     43,X            member memory_end of AnonStruct_ftypes.h:26
007A EDC9FF7A         (           test.s):00133                 STD     -134,U          variable memend_struct
                      (           test.s):00134         * Line test.c:25: function call: print()
007E 308D0000         (           test.s):00135                 LEAX    S00027,PCR      "memend (struct): "
0082 3410             (           test.s):00136                 PSHS    X               C function argument 1 of print(): const char[]
0084 170000           (           test.s):00137                 LBSR    _print
0087 3262             (           test.s):00138                 LEAS    2,S
                      (           test.s):00139         * Line test.c:26: function call: foutHex()
0089 30C9FF7A         (           test.s):00140                 LEAX    -134,U          variable `memend_struct', declared at test.c:24
008D 1F10             (           test.s):00141                 TFR     X,D             address-of operator
                      (           test.s):00142         * Emitted no code to cast `unsigned int *' to `unsigned char *'
008F 3406             (           test.s):00143                 PSHS    B,A             C function argument 1 of foutHex(): unsigned char *
0091 170000           (           test.s):00144                 LBSR    _foutHex
0094 3262             (           test.s):00145                 LEAS    2,S
                      (           test.s):00146         * Line test.c:27: function call: foutHex()
                      (           test.s):00147         * optim: optimizeStackOperations5
                      (           test.s):00148         * optim: optimizeStackOperations5
                      (           test.s):00149         * optim: optimizeStackOperations5
0096 30C9FF7A         (           test.s):00150                 LEAX    -134,U          variable `memend_struct', declared at test.c:24
009A 1F10             (           test.s):00151                 TFR     X,D             address-of operator
                      (           test.s):00152         * Emitted no code to cast `unsigned int *' to `unsigned char *'
009C C30001           (           test.s):00153                 ADDD    #$01            optim: optimizeStackOperations5
009F 3406             (           test.s):00154                 PSHS    B,A             C function argument 1 of foutHex(): unsigned char *
00A1 170000           (           test.s):00155                 LBSR    _foutHex
00A4 3262             (           test.s):00156                 LEAS    2,S
                      (           test.s):00157         * Line test.c:28: function call: pcrlf()
00A6 170000           (           test.s):00158                 LBSR    _pcrlf
                      (           test.s):00159         * Line test.c:31: init of variable i
00A9 4F               (           test.s):00160                 CLRA
00AA 5F               (           test.s):00161                 CLRB
00AB ED5D             (           test.s):00162                 STD     -3,U            variable i
                      (           test.s):00163         * Line test.c:34: function call: print()
00AD 308D0000         (           test.s):00164                 LEAX    S00028,PCR      "Type a line and press RETURN: "
00B1 3410             (           test.s):00165                 PSHS    X               C function argument 1 of print(): const char[]
00B3 170000           (           test.s):00166                 LBSR    _print
00B6 3262             (           test.s):00167                 LEAS    2,S
                      (           test.s):00168         * Line test.c:35: function call: finBuffer()
00B8 170000           (           test.s):00169                 LBSR    _finBuffer
                      (           test.s):00170         * Line test.c:38: while
00BB 2033             (           test.s):00171                 BRA     L00034          jump to while condition
     00BD             (           test.s):00172         L00033  EQU     *               while body
                      (           test.s):00173         * Line test.c:39: assignment: =
                      (           test.s):00174         * Line test.c:39: function call: fgetNext()
00BD 170000           (           test.s):00175                 LBSR    _fgetNext
00C0 E75F             (           test.s):00176                 STB     -1,U
                      (           test.s):00177         * Line test.c:40: if
                      (           test.s):00178         * optim: storeLoad
00C2 C10D             (           test.s):00179                 CMPB    #$0D
00C4 2732             (           test.s):00180                 BEQ     L00035
                      (           test.s):00181         * optim: branchToNextLocation
                      (           test.s):00182         * Useless label L00038 removed
00C6 CCCC00           (           test.s):00183                 LDD     #$CC00          decimal 52224 unsigned
                      (           test.s):00184         * Emitted no code to cast `unsigned int' to `struct AnonStruct_ftypes.h:26 *'
00C9 1F01             (           test.s):00185                 TFR     D,X             X points to a struct AnonStruct_ftypes.h:26
00CB E602             (           test.s):00186                 LDB     2,X             member ttyset_eol of AnonStruct_ftypes.h:26
00CD 4F               (           test.s):00187                 CLRA                    promotion of binary operand
00CE 3406             (           test.s):00188                 PSHS    B,A
00D0 E65F             (           test.s):00189                 LDB     -1,U            variable `ch', declared at test.c:32
00D2 1D               (           test.s):00190                 SEX                     promotion of binary operand
00D3 10A3E1           (           test.s):00191                 CMPD    ,S++
00D6 2720             (           test.s):00192                 BEQ     L00035           (optim: condBranchOverUncondBranch) (optim: condBranchOverUncondBranch)
                      (           test.s):00193         * optim: condBranchOverUncondBranch
                      (           test.s):00194         * Useless label L00036 removed
                      (           test.s):00195         * Line test.c:41
                      (           test.s):00196         * optim: condBranchOverUncondBranch
                      (           test.s):00197         * Useless label L00037 removed
                      (           test.s):00198         * Useless label L00039 removed
                      (           test.s):00199         * Line test.c:42: assignment: =
00D8 E65F             (           test.s):00200                 LDB     -1,U            variable `ch', declared at test.c:32
00DA 3404             (           test.s):00201                 PSHS    B
00DC EC5D             (           test.s):00202                 LDD     -3,U            variable `i', declared at test.c:42
00DE C30001           (           test.s):00203                 ADDD    #1
00E1 ED5D             (           test.s):00204                 STD     -3,U
00E3 830001           (           test.s):00205                 SUBD    #1              post increment yields initial value
00E6 30C9FF7C         (           test.s):00206                 LEAX    -132,U          address of array input
00EA 308B             (           test.s):00207                 LEAX    D,X             add offset
00EC E6E0             (           test.s):00208                 LDB     ,S+
00EE E784             (           test.s):00209                 STB     ,X
     00F0             (           test.s):00210         L00034  EQU     *               while condition at test.c:38
00F0 EC5D             (           test.s):00211                 LDD     -3,U            variable i
00F2 10830080         (           test.s):00212                 CMPD    #$80
00F6 2DC5             (           test.s):00213                 BLT     L00033
                      (           test.s):00214         * optim: branchToNextLocation
     00F8             (           test.s):00215         L00035  EQU     *               after end of while starting at test.c:38
                      (           test.s):00216         * Line test.c:44: assignment: =
00F8 5F               (           test.s):00217                 CLRB
00F9 3404             (           test.s):00218                 PSHS    B
00FB EC5D             (           test.s):00219                 LDD     -3,U            variable i
00FD 30C9FF7C         (           test.s):00220                 LEAX    -132,U          address of array input
0101 308B             (           test.s):00221                 LEAX    D,X             add offset
0103 E6E0             (           test.s):00222                 LDB     ,S+
0105 E784             (           test.s):00223                 STB     ,X
                      (           test.s):00224         * Line test.c:46: function call: print()
0107 308D0000         (           test.s):00225                 LEAX    S00029,PCR      "You typed: "
010B 3410             (           test.s):00226                 PSHS    X               C function argument 1 of print(): const char[]
010D 170000           (           test.s):00227                 LBSR    _print
0110 3262             (           test.s):00228                 LEAS    2,S
                      (           test.s):00229         * Line test.c:47: function call: print()
0112 30C9FF7C         (           test.s):00230                 LEAX    -132,U          address of array input
0116 3410             (           test.s):00231                 PSHS    X               C function argument 1 of print(): char[]
0118 170000           (           test.s):00232                 LBSR    _print
011B 3262             (           test.s):00233                 LEAS    2,S
                      (           test.s):00234         * Line test.c:48: function call: pcrlf()
011D 170000           (           test.s):00235                 LBSR    _pcrlf
                      (           test.s):00236         * Line test.c:50: function call: exitFLEX()
0120 170000           (           test.s):00237                 LBSR    _exitFLEX
                      (           test.s):00238         * Line test.c:51: return with value
0123 4F               (           test.s):00239                 CLRA
0124 5F               (           test.s):00240                 CLRB
                      (           test.s):00241         * optim: branchToNextLocation
                      (           test.s):00242         * Useless label L00023 removed
0125 32C4             (           test.s):00243                 LEAS    ,U
0127 35C0             (           test.s):00244                 PULS    U,PC
                      (           test.s):00245         * END FUNCTION main(): defined at test.c:6
     0129             (           test.s):00246         funcend_main    EQU *
     0129             (           test.s):00247         funcsize_main   EQU     funcend_main-_main
                      (           test.s):00248         
                      (           test.s):00249         
                      (           test.s):00250                 ENDSECTION
                      (           test.s):00251         
                      (           test.s):00252         
                      (           test.s):00253         
                      (           test.s):00254         
                      (           test.s):00255                 SECTION initgl_start
                      (           test.s):00256         
                      (           test.s):00257         
                      (           test.s):00258         INITGL  EXPORT
     0000             (           test.s):00259         INITGL  EQU     *
                      (           test.s):00260         
                      (           test.s):00261         
                      (           test.s):00262                 ENDSECTION
                      (           test.s):00263         
                      (           test.s):00264         
                      (           test.s):00265         
                      (           test.s):00266         
                      (           test.s):00267                 SECTION initgl
                      (           test.s):00268         
                      (           test.s):00269         
                      (           test.s):00270         
                      (           test.s):00271         
                      (           test.s):00272         *******************************************************************************
                      (           test.s):00273         
                      (           test.s):00274         * Initialize global variables.
                      (           test.s):00275         
                      (           test.s):00276         
                      (           test.s):00277                 ENDSECTION
                      (           test.s):00278         
                      (           test.s):00279         
                      (           test.s):00280         
                      (           test.s):00281         
                      (           test.s):00282                 SECTION rodata
                      (           test.s):00283         
                      (           test.s):00284         
     0000             (           test.s):00285         string_literals_start   EQU     *
                      (           test.s):00286         
                      (           test.s):00287         
                      (           test.s):00288         *******************************************************************************
                      (           test.s):00289         
                      (           test.s):00290         * STRING LITERALS
     0000             (           test.s):00291         S00024  EQU     *
0000 68656C6C6F20776F (           test.s):00292                 FCC     "hello world "
     726C6420
000C 0D               (           test.s):00293                 FCB     $0D
000D 0A               (           test.s):00294                 FCB     $0A
000E 00               (           test.s):00295                 FCB     0
     000F             (           test.s):00296         S00025  EQU     *
000F 464C4558204E6577 (           test.s):00297                 FCC     "FLEX New Disk Test Program "
     204469736B205465
     73742050726F6772
     616D20
002A 00               (           test.s):00298                 FCB     0
     002B             (           test.s):00299         S00026  EQU     *
002B 56657273696F6E20 (           test.s):00300                 FCC     "Version 1.0 "
     312E3020
0037 0A               (           test.s):00301                 FCB     $0A
0038 00               (           test.s):00302                 FCB     0
     0039             (           test.s):00303         S00027  EQU     *
0039 6D656D656E642028 (           test.s):00304                 FCC     "memend (struct): "
     737472756374293A
     20
004A 00               (           test.s):00305                 FCB     0
     004B             (           test.s):00306         S00028  EQU     *
004B 547970652061206C (           test.s):00307                 FCC     "Type a line and press RETURN: "
     696E6520616E6420
     7072657373205245
     5455524E3A20
0069 00               (           test.s):00308                 FCB     0
     006A             (           test.s):00309         S00029  EQU     *
006A 596F752074797065 (           test.s):00310                 FCC     "You typed: "
     643A20
0075 00               (           test.s):00311                 FCB     0
     0076             (           test.s):00312         string_literals_end     EQU     *
                      (           test.s):00313         
                      (           test.s):00314         
                      (           test.s):00315         *******************************************************************************
                      (           test.s):00316         
                      (           test.s):00317         * READ-ONLY GLOBAL VARIABLES
                      (           test.s):00318         
                      (           test.s):00319         
                      (           test.s):00320                 ENDSECTION
                      (           test.s):00321         
                      (           test.s):00322         
                      (           test.s):00323         
                      (           test.s):00324         
                      (           test.s):00325                 SECTION rwdata
                      (           test.s):00326         
                      (           test.s):00327         
                      (           test.s):00328         * Statically-initialized global variables
                      (           test.s):00329         * Statically-initialized local static variables
                      (           test.s):00330         
                      (           test.s):00331         
                      (           test.s):00332                 ENDSECTION
                      (           test.s):00333         
                      (           test.s):00334         
                      (           test.s):00335         
                      (           test.s):00336         
                      (           test.s):00337                 SECTION bss
                      (           test.s):00338         
                      (           test.s):00339         
     0000             (           test.s):00340         bss_start       EQU     *
                      (           test.s):00341         * Uninitialized global variables
                      (           test.s):00342         * Uninitialized local static variables
     0000             (           test.s):00343         bss_end EQU     *
                      (           test.s):00344         
                      (           test.s):00345         
                      (           test.s):00346                 ENDSECTION
                      (           test.s):00347         
                      (           test.s):00348         
                      (           test.s):00349         
                      (           test.s):00350         
                      (           test.s):00351                 SECTION initgl_end
                      (           test.s):00352         
                      (           test.s):00353         
0000 39               (           test.s):00354                 RTS                     end of global variable initialization
                      (           test.s):00355         
                      (           test.s):00356         
                      (           test.s):00357                 ENDSECTION
                      (           test.s):00358         
                      (           test.s):00359         
                      (           test.s):00360         
                      (           test.s):00361         
                      (           test.s):00362         *******************************************************************************
                      (           test.s):00363         
                      (           test.s):00364         
                      (           test.s):00365         
                      (           test.s):00366                 SECTION program_end
                      (           test.s):00367         
                      (           test.s):00368         
                      (           test.s):00369         program_end     EXPORT
     0000             (           test.s):00370         program_end     EQU     *
                      (           test.s):00371         
                      (           test.s):00372         
                      (           test.s):00373                 ENDSECTION
                      (           test.s):00374         
                      (           test.s):00375         
                      (           test.s):00376         
                      (           test.s):00377         
                      (           test.s):00378         *******************************************************************************
                      (           test.s):00379         
                      (           test.s):00380         * Importing 11 utility routine(s).
                      (           test.s):00381         _exitFLEX       IMPORT
                      (           test.s):00382         _fgetNext       IMPORT
                      (           test.s):00383         _finBuffer      IMPORT
                      (           test.s):00384         _foutHex        IMPORT
                      (           test.s):00385         _fputChar       IMPORT
                      (           test.s):00386         _getCharNoEcho  IMPORT
                      (           test.s):00387         _getTerminalState       IMPORT
                      (           test.s):00388         _outChar        IMPORT
                      (           test.s):00389         _pcrlf  IMPORT
                      (           test.s):00390         _print  IMPORT
                      (           test.s):00391         copyMem IMPORT
                      (           test.s):00392         
                      (           test.s):00393         
                      (           test.s):00394         *******************************************************************************
                      (           test.s):00395         
                      (           test.s):00396                 END
